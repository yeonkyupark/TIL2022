# 2022년 2월 

## TIL20220222

### rstudio.cloud PAT 업데이트

https://stackoverflow.com/questions/66065099/how-to-update-github-authentification-token-on-rstudio-to-match-the-new-policy

```{r echo=T, eval=FALSE}
credentials::set_gethub_pat()
```

위 코드로 해결함.

## TIL20220222

### code snippet in R

RStudio에서 snippet 설정을 한다.

* Tools → Global Options → Code → Editing → Snippets

![image](https://user-images.githubusercontent.com/72383349/155138784-e1994a7c-86e0-4476-9472-e116c77841b3.png)


```{r echo=T, eval=FALSE}
# snippet 등록
snippet myggplot
  # 코드 작성 시 반드시 tab으로 띄워쓰기 할 것
	p <- ggplot(data = ${1:데이터}, aes(x=${2:변수1}, y=${3:변수2}, col=${4:범주1}, fill=${5:범주2})) +
	  geom_${6:그래프종류}() +
	  labs(title="${7:그래프제목}", x="${8:x축}", y="${9:y축}") +
	  theme_bw()
	p
```

![](https://user-images.githubusercontent.com/72383349/155125070-44a98fdd-ddd1-4752-b114-dea6331213ca.png)



## TIL20220221

### Github Actions를 이용한 자동 배포

세상은 넓고 똑똑한 사람은 참 많은 것 같다.  
ref to: [How to publish bookdown projects with GitHub Actions on GitHub Pages](https://medium.com/@delucmat/how-to-publish-bookdown-projects-with-github-actions-on-github-pages-6e6aecc7331e)  

### 실습

1. RStudio에서 bookdown project를 하나 만든다.  
![image](https://user-images.githubusercontent.com/72383349/154965280-0f32d064-ede3-4fff-91fc-19841ff22141.png)  
  
2. GitHub에서 Repository를 하나 만든다.  
![image](https://user-images.githubusercontent.com/72383349/154965633-4b3137d4-4daa-4535-a023-eccde1ad5eb8.png)  
  
3. 둘이 연결한다.  
  
4. GitHub Actions를 위한 workflows를 생성한다.  
![image](https://user-images.githubusercontent.com/72383349/154966480-ea1f1a89-0d87-4828-babd-2a1110041070.png)  

```{r echo=T, eval=FALSE}
usethis::use_github_action(url = "https://raw.githubusercontent.com/ropenscilabs/actions_sandbox/main/.github/workflows/deploy_bookdown.yml")
```


5. 배포할 브랜치를 변경해 준다.  
![image](https://user-images.githubusercontent.com/72383349/154968943-d7ddb6b6-46ae-46df-8fd1-386eaf8455dc.png)  
  
6. 코드 업데이트 후 정상 동작 확인한다.  
  
  
***! 주의***  

* deploy_bookdown.yml의 branch 이름 확인할 것, 최근에 master에서 main으로 변경됨
* bookdown의 \_bookdown.yml의 output_dir과 deploy_bookdown.yml의 build_dir 일치시킬 것
* repository에 build_dir(\_book)가 없으면 만들어 둘 것

---- 

## TIL20220220

### netlify 자동 배포 1

rendering 안해도 netlify에 deploy되나 ('' ?)  
우선 rendering된 docs 폴더를 netlify에 연결하는 걸로 하자.  

### netlify 자동 배포 2

https://www.emilhvitfeldt.com/post/bookdown-netlify-github-actions/  

* 1차 실패
* 2차 진행 중 ...
* 3차, 편한 방법을 찾자.

----

## TIL20220219

### netlify와 bookdown 연동

https://bookdown.org/yihui/blogdown/netlify.html

----

## TIL20220218 

### github repo 삭제하면 잔디도 죽는다

사용하던 github repo를 모두 삭제했다.  
repo가 삭제되면 심어 두었던 잔디도 같이 죽는다는 것을 알게 되었다.  
덕분에 깨끗한 마음으로 새로 시작할 수 있을 것 같다 '^'  

![](https://user-images.githubusercontent.com/72383349/154695072-8480a46d-4174-4a4a-829f-e97f361dbf29.png)

### bookdown으로 블로그 전환

jekyll로 잘 운영하던 블로그를 bookdown으로 이사, 일단 가볍고 문서 작성하기 편하고 체계적이고, 무엇보다 기존 repo 싹 날려서 그렇다.  
RStudio, Bookdown, Github pages 등으로 검색하면 여러 정보를 얻을 수 있다.  중간중간 설명이 필요한 부분도 있지만 우선 [여기](https://unfinishedgod.netlify.app/2020/08/04/bookdowngithub-page%EC%97%90-publish%ED%95%98%EA%B8%B0/) 참조하면 세팅할 수 있다.

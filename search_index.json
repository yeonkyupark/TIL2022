[["index.html", "Today I Learned in 2022 시작하며", " Today I Learned in 2022 PARK Yeonkyu 2022-03-03 시작하며 1/01 github에 매일매일 잔디 심고 있었다. 2/18 github를 청소해 보겠다고 repo를 전체 삭제했다. 잔디도 깔끔하게 같이 사라졌다. 다시 시작하는걸로... "],["년-3월.html", "2022년 3월 TIL20220303 TIL20220302 TIL20220301", " 2022년 3월 TIL20220303 데이터 요약 연속형 변수 요약 중심경향 지표 중심경향 지표(measures of central tendency)는 데이터가 특정 값을 중심으로 집중되어 있는 정도를 뜻한다. 중위수(median) 백분위수(quantile, percentile) 사분위수(quartile) 평균(mean) if(require(MASS)) install.packages(&quot;MASS&quot;) ## ## The downloaded binary packages are in ## /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmpq1Yd7q/downloaded_packages library(MASS) # for survey dataset median(survey$Pulse) # 결측, 즉 NA 값에 따른 결과 ## [1] NA median(survey$Pulse, na.rm=T) # 결측값 제거 후 계산산 ## [1] 72.5 quantile(survey$Pulse, probs = 0.5, na.rm = T) # 중위수 ## 50% ## 72.5 quantile(survey$Pulse, probs = c(0.05, 0.95), na.rm = T) ## 5% 95% ## 59.55 92.00 # Q1, ... Q4 quantile(survey$Pulse, na.rm = T) ## 0% 25% 50% 75% 100% ## 35.0 66.0 72.5 80.0 104.0 quantile(survey$Pulse, seq(0,1,0.25), na.rm = T) ## 0% 25% 50% 75% 100% ## 35.0 66.0 72.5 80.0 104.0 # 주어진 값으로 백분위수 계산 survey$Pulse &lt;=80 # 80보다 작거나 같은 맥박수수 ## [1] FALSE FALSE FALSE NA TRUE TRUE FALSE TRUE TRUE FALSE TRUE TRUE ## [13] NA TRUE TRUE NA FALSE TRUE NA TRUE TRUE TRUE TRUE TRUE ## [25] TRUE FALSE FALSE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [37] NA TRUE TRUE NA NA TRUE TRUE TRUE TRUE NA FALSE FALSE ## [49] TRUE TRUE TRUE TRUE TRUE TRUE TRUE NA TRUE TRUE TRUE NA ## [61] TRUE TRUE TRUE NA TRUE NA NA TRUE NA TRUE TRUE NA ## [73] TRUE TRUE FALSE TRUE TRUE NA TRUE NA TRUE TRUE FALSE NA ## [85] FALSE TRUE TRUE TRUE TRUE FALSE TRUE NA TRUE NA TRUE NA ## [97] TRUE TRUE NA TRUE NA TRUE NA TRUE TRUE TRUE NA FALSE ## [109] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE FALSE FALSE FALSE ## [121] TRUE TRUE FALSE TRUE TRUE NA TRUE TRUE TRUE FALSE FALSE TRUE ## [133] FALSE TRUE FALSE FALSE TRUE TRUE NA TRUE FALSE NA TRUE FALSE ## [145] TRUE TRUE TRUE TRUE FALSE TRUE TRUE TRUE FALSE TRUE TRUE TRUE ## [157] NA TRUE NA FALSE TRUE NA TRUE TRUE NA FALSE TRUE TRUE ## [169] NA TRUE NA TRUE TRUE TRUE TRUE FALSE TRUE FALSE NA TRUE ## [181] TRUE FALSE TRUE TRUE FALSE TRUE TRUE TRUE TRUE TRUE FALSE TRUE ## [193] TRUE TRUE NA TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE FALSE ## [205] TRUE FALSE TRUE FALSE FALSE NA TRUE FALSE TRUE TRUE TRUE NA ## [217] NA FALSE NA TRUE NA TRUE FALSE NA NA FALSE TRUE TRUE ## [229] TRUE TRUE TRUE NA FALSE FALSE NA FALSE FALSE mean(survey$Pulse &lt;= 80, na.rm = T) ## [1] 0.7552083 mean(survey$Pulse, na.rm = T) ## [1] 74.15104 if(require(palmerpenguins)) install.packages(&quot;palmerpenguins&quot;) ## ## The downloaded binary packages are in ## /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmpq1Yd7q/downloaded_packages library(palmerpenguins) summary(penguins$body_mass_g) ## Min. 1st Qu. Median Mean 3rd Qu. Max. NA&#39;s ## 2700 3550 4050 4202 4750 6300 2 summary(penguins$species) ## Adelie Chinstrap Gentoo ## 152 68 124 summary(as.character(penguins$species)) ## Length Class Mode ## 344 character character summary(penguins) ## species island bill_length_mm bill_depth_mm ## Adelie :152 Biscoe :168 Min. :32.10 Min. :13.10 ## Chinstrap: 68 Dream :124 1st Qu.:39.23 1st Qu.:15.60 ## Gentoo :124 Torgersen: 52 Median :44.45 Median :17.30 ## Mean :43.92 Mean :17.15 ## 3rd Qu.:48.50 3rd Qu.:18.70 ## Max. :59.60 Max. :21.50 ## NA&#39;s :2 NA&#39;s :2 ## flipper_length_mm body_mass_g sex year ## Min. :172.0 Min. :2700 female:165 Min. :2007 ## 1st Qu.:190.0 1st Qu.:3550 male :168 1st Qu.:2007 ## Median :197.0 Median :4050 NA&#39;s : 11 Median :2008 ## Mean :200.9 Mean :4202 Mean :2008 ## 3rd Qu.:213.0 3rd Qu.:4750 3rd Qu.:2009 ## Max. :231.0 Max. :6300 Max. :2009 ## NA&#39;s :2 NA&#39;s :2 # list 형태를 인자로 입력하는 경우 penguins.list &lt;- as.list(penguins) summary(penguins.list) ## Length Class Mode ## species 344 factor numeric ## island 344 factor numeric ## bill_length_mm 344 -none- numeric ## bill_depth_mm 344 -none- numeric ## flipper_length_mm 344 -none- numeric ## body_mass_g 344 -none- numeric ## sex 344 factor numeric ## year 344 -none- numeric # lapply()를 통해 요약통계량 계산 lapply(penguins.list, summary) ## $species ## Adelie Chinstrap Gentoo ## 152 68 124 ## ## $island ## Biscoe Dream Torgersen ## 168 124 52 ## ## $bill_length_mm ## Min. 1st Qu. Median Mean 3rd Qu. Max. NA&#39;s ## 32.10 39.23 44.45 43.92 48.50 59.60 2 ## ## $bill_depth_mm ## Min. 1st Qu. Median Mean 3rd Qu. Max. NA&#39;s ## 13.10 15.60 17.30 17.15 18.70 21.50 2 ## ## $flipper_length_mm ## Min. 1st Qu. Median Mean 3rd Qu. Max. NA&#39;s ## 172.0 190.0 197.0 200.9 213.0 231.0 2 ## ## $body_mass_g ## Min. 1st Qu. Median Mean 3rd Qu. Max. NA&#39;s ## 2700 3550 4050 4202 4750 6300 2 ## ## $sex ## female male NA&#39;s ## 165 168 11 ## ## $year ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 2007 2007 2008 2008 2009 2009 변동성 지표 변동성 지표(measures of variability)는 데이터의 산포 정도를 뜻한다. 범위(range) 사분위 범위(interquartile range) 분산(variance) 표준편차(standard deviation) TIL20220302 데이터 요약 범주형 변수 요약 비율 계산 if(require(MASS)) install.packages(&quot;MASS&quot;) ## ## The downloaded binary packages are in ## /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmpq1Yd7q/downloaded_packages library(MASS) survey$Smoke==&quot;Never&quot; # 비흡연자에 대한 논리연산 ## [1] TRUE FALSE FALSE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [13] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [25] TRUE TRUE TRUE TRUE TRUE TRUE FALSE TRUE FALSE TRUE FALSE FALSE ## [37] TRUE TRUE TRUE FALSE TRUE TRUE TRUE TRUE TRUE TRUE FALSE TRUE ## [49] FALSE TRUE TRUE TRUE TRUE TRUE FALSE TRUE TRUE TRUE TRUE FALSE ## [61] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE NA TRUE FALSE ## [73] TRUE TRUE TRUE FALSE TRUE FALSE TRUE TRUE TRUE TRUE TRUE TRUE ## [85] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE FALSE TRUE ## [97] FALSE TRUE TRUE TRUE TRUE TRUE TRUE TRUE FALSE TRUE FALSE TRUE ## [109] TRUE FALSE TRUE TRUE TRUE TRUE TRUE TRUE TRUE FALSE TRUE FALSE ## [121] FALSE FALSE TRUE TRUE TRUE TRUE TRUE FALSE TRUE TRUE TRUE TRUE ## [133] TRUE FALSE TRUE FALSE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [145] TRUE TRUE FALSE TRUE TRUE TRUE TRUE TRUE FALSE TRUE TRUE TRUE ## [157] FALSE TRUE TRUE FALSE TRUE TRUE TRUE FALSE TRUE TRUE TRUE FALSE ## [169] TRUE TRUE TRUE FALSE FALSE TRUE TRUE TRUE FALSE TRUE FALSE TRUE ## [181] FALSE FALSE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [193] FALSE TRUE TRUE TRUE TRUE TRUE FALSE TRUE FALSE TRUE TRUE TRUE ## [205] FALSE FALSE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [217] TRUE TRUE TRUE TRUE FALSE TRUE TRUE TRUE TRUE TRUE FALSE TRUE ## [229] FALSE FALSE TRUE TRUE TRUE TRUE TRUE TRUE TRUE mean(survey$Smoke==&quot;Never&quot;, na.rm = T) # 비흡연자에 대한 비율 ## [1] 0.8008475 head(anorexia) ## Treat Prewt Postwt ## 1 Cont 80.7 80.2 ## 2 Cont 89.4 80.1 ## 3 Cont 91.8 86.4 ## 4 Cont 74.0 86.3 ## 5 Cont 78.1 76.1 ## 6 Cont 88.3 78.1 anorexia$Postwt &gt; anorexia$Prewt # 치료 후의 몸무게가 치료 전의 몸무게보다 큰가? ## [1] FALSE FALSE FALSE TRUE FALSE FALSE FALSE TRUE FALSE TRUE FALSE FALSE ## [13] TRUE TRUE TRUE FALSE FALSE FALSE FALSE FALSE TRUE TRUE TRUE TRUE ## [25] TRUE FALSE TRUE TRUE FALSE FALSE FALSE TRUE TRUE TRUE FALSE TRUE ## [37] TRUE TRUE TRUE FALSE TRUE FALSE TRUE FALSE TRUE FALSE FALSE FALSE ## [49] TRUE TRUE TRUE TRUE TRUE TRUE FALSE TRUE TRUE TRUE TRUE TRUE ## [61] FALSE FALSE TRUE TRUE FALSE FALSE TRUE TRUE TRUE TRUE TRUE TRUE mean(anorexia$Postwt &gt; anorexia$Prewt) ## [1] 0.5833333 head(mammals) ## body brain ## Arctic fox 3.385 44.5 ## Owl monkey 0.480 15.5 ## Mountain beaver 1.350 8.1 ## Cow 465.000 423.0 ## Grey wolf 36.330 119.5 ## Goat 27.660 115.0 # 두뇌의 무게가 2개의 표준편차보다 큰 논리연산식 abs(mammals$brain - mean(mammals$brain)) &gt; 2*sd(mammals$brain) ## [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ## [13] FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE ## [25] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE FALSE ## [37] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ## [49] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ## [61] FALSE FALSE mean(abs(mammals$brain - mean(mammals$brain)) &gt; 2*sd(mammals$brain)) ## [1] 0.03225806 head(SP500) ## [1] -0.2588908 -0.8650307 -0.9804139 0.4504321 -1.1856666 -0.6629097 # 수익률이 전일보다 증가한 일자 논리식 head(diff(SP500) &gt; 0, 10) ## [1] FALSE FALSE TRUE FALSE TRUE TRUE FALSE TRUE TRUE FALSE mean(diff(SP500) &gt; 0) ## [1] 0.4857863 if(require(vcd)) install.packages(&quot;vcd&quot;) ## ## The downloaded binary packages are in ## /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmpq1Yd7q/downloaded_packages library(vcd) str(Arthritis) # 류마티스 관절염 치료 효과 ## &#39;data.frame&#39;: 84 obs. of 5 variables: ## $ ID : int 57 46 77 17 36 23 75 39 33 55 ... ## $ Treatment: Factor w/ 2 levels &quot;Placebo&quot;,&quot;Treated&quot;: 2 2 2 2 2 2 2 2 2 2 ... ## $ Sex : Factor w/ 2 levels &quot;Female&quot;,&quot;Male&quot;: 2 2 2 2 2 2 2 2 2 2 ... ## $ Age : int 27 29 30 32 46 58 59 59 63 63 ... ## $ Improved : Ord.factor w/ 3 levels &quot;None&quot;&lt;&quot;Some&quot;&lt;..: 2 1 1 3 3 3 1 3 1 1 ... levels(Arthritis$Treatment) ## [1] &quot;Placebo&quot; &quot;Treated&quot; levels(Arthritis$Improved) ## [1] &quot;None&quot; &quot;Some&quot; &quot;Marked&quot; crosstab &lt;- table(Arthritis$Improved, Arthritis$Treatment, dnn=c(&quot;Improved&quot;, &quot;Treatment&quot;)) crosstab ## Treatment ## Improved Placebo Treated ## None 29 13 ## Some 7 7 ## Marked 7 21 crosstab[&quot;Marked&quot;, &quot;Treated&quot;] ## [1] 21 crosstab &lt;- xtabs(~ Improved + Treatment, data = Arthritis) crosstab ## Treatment ## Improved Placebo Treated ## None 29 13 ## Some 7 7 ## Marked 7 21 margin.table(crosstab, margin = 1) # 행 ## Improved ## None Some Marked ## 42 14 28 margin.table(crosstab, margin = 2) # 열 ## Treatment ## Placebo Treated ## 43 41 prop.table(crosstab, margin = 1) # 행의 합이 1 ## Treatment ## Improved Placebo Treated ## None 0.6904762 0.3095238 ## Some 0.5000000 0.5000000 ## Marked 0.2500000 0.7500000 prop.table(crosstab, margin = 2) # 열의 합이 1 ## Treatment ## Improved Placebo Treated ## None 0.6744186 0.3170732 ## Some 0.1627907 0.1707317 ## Marked 0.1627907 0.5121951 prop.table(crosstab) ## Treatment ## Improved Placebo Treated ## None 0.34523810 0.15476190 ## Some 0.08333333 0.08333333 ## Marked 0.08333333 0.25000000 addmargins(crosstab, margin = 1) # 합의 행을 생성 ## Treatment ## Improved Placebo Treated ## None 29 13 ## Some 7 7 ## Marked 7 21 ## Sum 43 41 addmargins(crosstab, margin = 2) # 합의 열을 생성 ## Treatment ## Improved Placebo Treated Sum ## None 29 13 42 ## Some 7 7 14 ## Marked 7 21 28 addmargins(crosstab) ## Treatment ## Improved Placebo Treated Sum ## None 29 13 42 ## Some 7 7 14 ## Marked 7 21 28 ## Sum 43 41 84 addmargins(prop.table(crosstab, margin = 2), 1) ## Treatment ## Improved Placebo Treated ## None 0.6744186 0.3170732 ## Some 0.1627907 0.1707317 ## Marked 0.1627907 0.5121951 ## Sum 1.0000000 1.0000000 if(require(gmodels)) install.packages(&quot;gmodels&quot;) ## ## The downloaded binary packages are in ## /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmpq1Yd7q/downloaded_packages library(gmodels) CrossTable(Arthritis$Improved, Arthritis$Treatment, dnn=c(&quot;Improved&quot;, &quot;Treatment&quot;)) ## ## ## Cell Contents ## |-------------------------| ## | N | ## | Chi-square contribution | ## | N / Row Total | ## | N / Col Total | ## | N / Table Total | ## |-------------------------| ## ## ## Total Observations in Table: 84 ## ## ## | Treatment ## Improved | Placebo | Treated | Row Total | ## -------------|-----------|-----------|-----------| ## None | 29 | 13 | 42 | ## | 2.616 | 2.744 | | ## | 0.690 | 0.310 | 0.500 | ## | 0.674 | 0.317 | | ## | 0.345 | 0.155 | | ## -------------|-----------|-----------|-----------| ## Some | 7 | 7 | 14 | ## | 0.004 | 0.004 | | ## | 0.500 | 0.500 | 0.167 | ## | 0.163 | 0.171 | | ## | 0.083 | 0.083 | | ## -------------|-----------|-----------|-----------| ## Marked | 7 | 21 | 28 | ## | 3.752 | 3.935 | | ## | 0.250 | 0.750 | 0.333 | ## | 0.163 | 0.512 | | ## | 0.083 | 0.250 | | ## -------------|-----------|-----------|-----------| ## Column Total | 43 | 41 | 84 | ## | 0.512 | 0.488 | | ## -------------|-----------|-----------|-----------| ## ## multtab &lt;- table(Arthritis$Improved, Arthritis$Sex, Arthritis$Treatment) multtab ## , , = Placebo ## ## ## Female Male ## None 19 10 ## Some 7 0 ## Marked 6 1 ## ## , , = Treated ## ## ## Female Male ## None 6 7 ## Some 5 2 ## Marked 16 5 multtab &lt;- xtabs(~ Improved + Sex + Treatment, data = Arthritis) multtab ## , , Treatment = Placebo ## ## Sex ## Improved Female Male ## None 19 10 ## Some 7 0 ## Marked 6 1 ## ## , , Treatment = Treated ## ## Sex ## Improved Female Male ## None 6 7 ## Some 5 2 ## Marked 16 5 ftable(multtab) ## Treatment Placebo Treated ## Improved Sex ## None Female 19 6 ## Male 10 7 ## Some Female 7 5 ## Male 0 2 ## Marked Female 6 16 ## Male 1 5 ftable(multtab, row.vars = c(2,3)) ## Improved None Some Marked ## Sex Treatment ## Female Placebo 19 7 6 ## Treated 6 5 16 ## Male Placebo 10 0 1 ## Treated 7 2 5 ftable(Arthritis[c(&quot;Improved&quot;, &quot;Sex&quot;, &quot;Treatment&quot;)], row.vars = c(2,3)) ## Improved None Some Marked ## Sex Treatment ## Female Placebo 19 7 6 ## Treated 6 5 16 ## Male Placebo 10 0 1 ## Treated 7 2 5 margin.table(multtab, 1) ## Improved ## None Some Marked ## 42 14 28 margin.table(multtab, 2) ## Sex ## Female Male ## 59 25 margin.table(multtab, 3) ## Treatment ## Placebo Treated ## 43 41 ftable(prop.table(multtab, c(2,3))) ## Treatment Placebo Treated ## Improved Sex ## None Female 0.59375000 0.22222222 ## Male 0.90909091 0.50000000 ## Some Female 0.21875000 0.18518519 ## Male 0.00000000 0.14285714 ## Marked Female 0.18750000 0.59259259 ## Male 0.09090909 0.35714286 ftable(addmargins(prop.table(multtab, c(2,3)))) ## Treatment Placebo Treated Sum ## Improved Sex ## None Female 0.59375000 0.22222222 0.81597222 ## Male 0.90909091 0.50000000 1.40909091 ## Sum 1.50284091 0.72222222 2.22506313 ## Some Female 0.21875000 0.18518519 0.40393519 ## Male 0.00000000 0.14285714 0.14285714 ## Sum 0.21875000 0.32804233 0.54679233 ## Marked Female 0.18750000 0.59259259 0.78009259 ## Male 0.09090909 0.35714286 0.44805195 ## Sum 0.27840909 0.94973545 1.22814454 ## Sum Female 1.00000000 1.00000000 2.00000000 ## Male 1.00000000 1.00000000 2.00000000 ## Sum 2.00000000 2.00000000 4.00000000 TIL20220301 데이터 요약 범주형 변수 요약 기술통계와 추론통계, 대부분은 모집단을 설명하는 추론통계이지만 모집단을 잘 설명하기 위해서는 표본집단을 잘 이해사고 적절한 통계기법을 선택하는 것이 중요하다. 빈도표 if(require(MASS)) install.packages(&quot;MASS&quot;) ## ## The downloaded binary packages are in ## /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmpq1Yd7q/downloaded_packages library(MASS) str(survey) ## &#39;data.frame&#39;: 237 obs. of 12 variables: ## $ Sex : Factor w/ 2 levels &quot;Female&quot;,&quot;Male&quot;: 1 2 2 2 2 1 2 1 2 2 ... ## $ Wr.Hnd: num 18.5 19.5 18 18.8 20 18 17.7 17 20 18.5 ... ## $ NW.Hnd: num 18 20.5 13.3 18.9 20 17.7 17.7 17.3 19.5 18.5 ... ## $ W.Hnd : Factor w/ 2 levels &quot;Left&quot;,&quot;Right&quot;: 2 1 2 2 2 2 2 2 2 2 ... ## $ Fold : Factor w/ 3 levels &quot;L on R&quot;,&quot;Neither&quot;,..: 3 3 1 3 2 1 1 3 3 3 ... ## $ Pulse : int 92 104 87 NA 35 64 83 74 72 90 ... ## $ Clap : Factor w/ 3 levels &quot;Left&quot;,&quot;Neither&quot;,..: 1 1 2 2 3 3 3 3 3 3 ... ## $ Exer : Factor w/ 3 levels &quot;Freq&quot;,&quot;None&quot;,..: 3 2 2 2 3 3 1 1 3 3 ... ## $ Smoke : Factor w/ 4 levels &quot;Heavy&quot;,&quot;Never&quot;,..: 2 4 3 2 2 2 2 2 2 2 ... ## $ Height: num 173 178 NA 160 165 ... ## $ M.I : Factor w/ 2 levels &quot;Imperial&quot;,&quot;Metric&quot;: 2 1 NA 2 2 1 1 2 2 2 ... ## $ Age : num 18.2 17.6 16.9 20.3 23.7 ... levels(survey$Smoke) ## [1] &quot;Heavy&quot; &quot;Never&quot; &quot;Occas&quot; &quot;Regul&quot; frqtab &lt;- table(survey$Smoke) frqtab ## ## Heavy Never Occas Regul ## 11 189 19 17 class(frqtab) ## [1] &quot;table&quot; frqtab[2] ## Never ## 189 frqtab[&quot;Never&quot;] ## Never ## 189 최빈값 frqtab == max(frqtab) ## ## Heavy Never Occas Regul ## FALSE TRUE FALSE FALSE frqtab[frqtab == max(frqtab)] ## Never ## 189 names(frqtab[frqtab == max(frqtab)]) ## [1] &quot;Never&quot; which.max(frqtab) ## Never ## 2 frqtab[which.max(frqtab)] ## Never ## 189 names(frqtab[which.max(frqtab)]) ## [1] &quot;Never&quot; 비율도표 frqtab.prop &lt;- prop.table(frqtab) frqtab.prop ## ## Heavy Never Occas Regul ## 0.04661017 0.80084746 0.08050847 0.07203390 frqtab.prop[&quot;Never&quot;] ## Never ## 0.8008475 frqtab.prop * 100 ## ## Heavy Never Occas Regul ## 4.661017 80.084746 8.050847 7.203390 "],["년-2월.html", "2022년 2월 TIL20220228 TIL20220227 TIL20220226 TIL20220225 TIL20220224 TIL20220223 TIL20220222 TIL20220221 TIL20220220 TIL20220219 TIL20220218", " 2022년 2월 TIL20220228 데이터 수집 통계데이터분석 - 데이터 수집1 데이터 수집 원천 출판물(publication) 실험(experiment) 관찰(observation) 서베이(servey) 표본과 모집단 표본, 데이터 수집에 포한된 참여자의 집단, 기술통계(descriptive statistics) 모집단, 우리가 궁극적으로 결론을 도출하고자 하는 대상이 되는 전체 집단, 추론통계(inferential statistics) 표본의 선정 판단표본(judgment sample) 편의표본(convenience sample) 무작위표본(random sample) 측정척도 측정(measurement), 데이터 항목의 속성에 숫자를 부여하는 과정 척도(scale), 측정을 위하여 사용되는 도구 척도의 종류 명목척도(nominal scale) 서열척도(ordinal scale) 간격척도(interval scale) 비율척도(ratio scale) TIL20220227 GitHub에 파일 올리기 연습용 csv 파일 올리기, GitHub Edit 창에 Drop&amp;Drop으로 등록할 수 있다. Sample_w_Header.csv Sample_wo_Header.csv sample &lt;- read.csv(&quot;https://github.com/yeonkyupark/TIL2022/files/8148798/Sample_w_Header.csv&quot;, fileEncoding=&quot;UTF-8-BOM&quot;) colnames(sample) ## [1] &quot;Time&quot; &quot;LSL&quot; &quot;USL&quot; &quot;Measure&quot; &quot;Result&quot; sample &lt;- read.csv(&quot;https://github.com/yeonkyupark/TIL2022/files/8148798/Sample_w_Header.csv&quot;) colnames(sample) ## [1] &quot;Time&quot; &quot;LSL&quot; &quot;USL&quot; &quot;Measure&quot; &quot;Result&quot; 읽어들인 첫번째 데이터가 깨지는 경우 인코딩을 확인해 본다. R을 이용하여 CSV 파일을 읽을 때 첫번째 문자가 깨지는 오류 해결 방법 엑셀 if 함수 정리 엑셀 IF 함수 사용법 및 예제 정리 :: 논리함수 =IF(AND(D2&gt;=C2, D2&lt;=B2), &quot;PASS&quot;, &quot;FAIL&quot;) TIL20220226 데이터 훑어보기 library(palmerpenguins) # 사용할 데이터 셋 우선 데이터 구조는 str() 일반적으로 summary()를 통해 수치 연산 결과를 전체적인 모습을 살펴볼 수 있다. # base package summary(penguins) ## species island bill_length_mm bill_depth_mm ## Adelie :152 Biscoe :168 Min. :32.10 Min. :13.10 ## Chinstrap: 68 Dream :124 1st Qu.:39.23 1st Qu.:15.60 ## Gentoo :124 Torgersen: 52 Median :44.45 Median :17.30 ## Mean :43.92 Mean :17.15 ## 3rd Qu.:48.50 3rd Qu.:18.70 ## Max. :59.60 Max. :21.50 ## NA&#39;s :2 NA&#39;s :2 ## flipper_length_mm body_mass_g sex year ## Min. :172.0 Min. :2700 female:165 Min. :2007 ## 1st Qu.:190.0 1st Qu.:3550 male :168 1st Qu.:2007 ## Median :197.0 Median :4050 NA&#39;s : 11 Median :2008 ## Mean :200.9 Mean :4202 Mean :2008 ## 3rd Qu.:213.0 3rd Qu.:4750 3rd Qu.:2009 ## Max. :231.0 Max. :6300 Max. :2009 ## NA&#39;s :2 NA&#39;s :2 skimr 패키지의 skim()을 통해 유사한 수치연산 결과를 보다 가독성이 좋은 형태로 출력해 준다. library(skimr) skim(penguins) TABLE 1: Data summary Name penguins Number of rows 344 Number of columns 8 _______________________ Column type frequency: factor 3 numeric 5 ________________________ Group variables None Variable type: factor skim_variable n_missing complete_rate ordered n_unique top_counts species 0 1.00 FALSE 3 Ade: 152, Gen: 124, Chi: 68 island 0 1.00 FALSE 3 Bis: 168, Dre: 124, Tor: 52 sex 11 0.97 FALSE 2 mal: 168, fem: 165 Variable type: numeric skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist bill_length_mm 2 0.99 43.92 5.46 32.1 39.23 44.45 48.5 59.6 ▃▇▇▆▁ bill_depth_mm 2 0.99 17.15 1.97 13.1 15.60 17.30 18.7 21.5 ▅▅▇▇▂ flipper_length_mm 2 0.99 200.92 14.06 172.0 190.00 197.00 213.0 231.0 ▂▇▃▅▂ body_mass_g 2 0.99 4201.75 801.95 2700.0 3550.00 4050.00 4750.0 6300.0 ▃▇▆▃▂ year 0 1.00 2008.03 0.82 2007.0 2007.00 2008.00 2009.0 2009.0 ▇▁▇▁▇ TIL20220225 R에서 데이터 읽어 오기 csv 포멧으로 사용하는게 가장 편하고, 파일 형식이 다른 경우 csv 파일 형태로 변환하여 사용하길 추천. 여건이 되지 않으면 구글링해서 해당 포멧 처리하는 것으로, 하지만 가능하면 엑셀로 기본 전처리 후 csv로 변환하여 사용. read.csv(file, header = TRUE, sep = &quot;,&quot;, quote = &quot;\\&quot;&quot;, dec = &quot;.&quot;, fill = TRUE, comment.char = &quot;&quot;, ...) TIL20220224 RStudio + bookdown + github 배포하기 GitHub Repository 생성하기 생성된 Git Repo로 RStudio 빈 Project 생성하기 Bookdown Project 생성하기 생성된 Project GitHub에 올리기 git checkout main git add . git commit -m &#39;1st commit on main&#39; git push origin main GitHub Action workflow 생성하기 gh-pages 브랜치를 생성한다. git checkout --orphan gh-pages git rm -rf . git commit --allow-empty -m &#39;1st commit on gh-pages&#39; git push origin gh-pages git checkout main RStudio Console에서 Workflow를 생성한다. usethis::use_github_action(url = &quot;https://raw.githubusercontent.com/ropenscilabs/actions_sandbox/main/.github/workflows/deploy_bookdown.yml&quot;) 수정된 파일 GitHub에 올리기 Workflow 및 배포된 페이지 확인하기 page 생성/수정 후 정상동작 확인하기 https://yeonkyupark.github.io/Rdataanalysis/ TIL20220223 rstudio.cloud PAT 업데이트 https://stackoverflow.com/questions/66065099/how-to-update-github-authentification-token-on-rstudio-to-match-the-new-policy credentials::set_gethub_pat() image 위 코드로 해결함. 파비콘 만들기 https://www.favicon-generator.org TIL20220222 code snippet in R RStudio에서 snippet 설정을 한다. Tools → Global Options → Code → Editing → Snippets image # snippet 등록 snippet myggplot # 코드 작성 시 반드시 tab으로 띄워쓰기 할 것 p &lt;- ggplot(data = ${1:데이터}, aes(x=${2:변수1}, y=${3:변수2}, col=${4:범주1}, fill=${5:범주2})) + geom_${6:그래프종류}() + labs(title=&quot;${7:그래프제목}&quot;, x=&quot;${8:x축}&quot;, y=&quot;${9:y축}&quot;) + theme_bw() p TIL20220221 Github Actions를 이용한 자동 배포 세상은 넓고 똑똑한 사람은 참 많은 것 같다. ref to: How to publish bookdown projects with GitHub Actions on GitHub Pages 실습 RStudio에서 bookdown project를 하나 만든다. GitHub에서 Repository를 하나 만든다. 둘이 연결한다. GitHub Actions를 위한 workflows를 생성한다. usethis::use_github_action(url = &quot;https://raw.githubusercontent.com/ropenscilabs/actions_sandbox/main/.github/workflows/deploy_bookdown.yml&quot;) 배포할 브랜치를 변경해 준다. 코드 업데이트 후 정상 동작 확인한다. ! 주의 deploy_bookdown.yml의 branch 이름 확인할 것, 최근에 master에서 main으로 변경됨 bookdown의 _bookdown.yml의 output_dir과 deploy_bookdown.yml의 build_dir 일치시킬 것 repository에 build_dir(_book)가 없으면 만들어 둘 것 TIL20220220 netlify 자동 배포 1 rendering 안해도 netlify에 deploy되나 (’’ ?) 우선 rendering된 docs 폴더를 netlify에 연결하는 걸로 하자. netlify 자동 배포 2 https://www.emilhvitfeldt.com/post/bookdown-netlify-github-actions/ 1차 실패 2차 진행 중 … 3차, 편한 방법을 찾자. TIL20220219 netlify와 bookdown 연동 https://bookdown.org/yihui/blogdown/netlify.html TIL20220218 github repo 삭제하면 잔디도 죽는다 사용하던 github repo를 모두 삭제했다. repo가 삭제되면 심어 두었던 잔디도 같이 죽는다는 것을 알게 되었다. 덕분에 깨끗한 마음으로 새로 시작할 수 있을 것 같다 ‘^’ bookdown으로 블로그 전환 jekyll로 잘 운영하던 블로그를 bookdown으로 이사, 일단 가볍고 문서 작성하기 편하고 체계적이고, 무엇보다 기존 repo 싹 날려서 그렇다. RStudio, Bookdown, Github pages 등으로 검색하면 여러 정보를 얻을 수 있다. 중간중간 설명이 필요한 부분도 있지만 우선 여기 참조하면 세팅할 수 있다. https://www.youtube.com/watch?v=Z4Hn4LoNuE8&amp;list=PLY0OaF78qqGAxKX91WuRigHpwBU0C2SB_↩︎ "],["년-1월.html", "2022년 1월", " 2022년 1월 2월 18일, 날짜도 참… 심어 두었던 잔디를 모두 날려 먹었다. "],["연습장.html", "연습장 r 코드 연습", " 연습장 r 코드 연습 library(ggplot2) ggplot(iris, aes(x=Sepal.Length, y=Sepal.Width, color=Species)) + geom_point() + labs(x=&quot;꽃잎 길이&quot;, y=&quot;꽃잎 넓이&quot;) + theme_bw() library(dplyr) iris %&gt;% head() ## Sepal.Length Sepal.Width Petal.Length Petal.Width Species ## 1 5.1 3.5 1.4 0.2 setosa ## 2 4.9 3.0 1.4 0.2 setosa ## 3 4.7 3.2 1.3 0.2 setosa ## 4 4.6 3.1 1.5 0.2 setosa ## 5 5.0 3.6 1.4 0.2 setosa ## 6 5.4 3.9 1.7 0.4 setosa "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
